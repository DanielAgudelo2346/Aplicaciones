<DOCTYPE HTML>

<html>
<head>
<title> Intento de juego </title>
<script src="http://code.jquery.com/jquery-1.7.1.min.js" type="text/javascript"></script>   
<script type="text/javascript">
$(document).ready(function(){
var canvas =$("#canvas")[0];        // inicializo el rectangulo llamado canvas
var ctx=canvas.getContext("2d");    // trabajar en coordenadas 2d
var cWidth=$("#canvas").width();    // ancho
var cHeight=$("#canvas").height();  // altura
var img= new Image();               // crear objeto imagen para trabajar

var open=true;

if(typeof game_Loop !="undefined"){
	clearInterval(game_Loop);
}


game_Loop=setInterval(game,400);

function game(){
	setBackground();
	pacmanAnimation();

}

function setBackground(){                // crear la funcion
    ctx.save();                          // guardar el estado ej:color
    ctx.fillStyle="lime";                // llamar al color
    ctx.fillRect(0,0,cWidth,cHeight);    // llenar con el rectangulo color
    ctx.strokeStyle="black";             //color linea
    ctx.lineWidth=5;                     //ancho linea
    ctx.strokeRect(0,0,cWidth,cHeight);  // marco del rectangulo
	ctx.restore();
}

function setPlayer(color, x, y, width, height){
	ctx.save();
	ctx.fillStyle=color;
	ctx.fillRect(x,y,width,height);
	ctx.restore();
}

function convertirradianes(grados){
	return (grados * Math.PI)/180;
}


function pacmanAnimation(){
    ctx.save();
    ctx.beginPath();
    if(!open){
    	ctx.arc(250,250,60,convertirradianes(40),convertirradianes(320));
    	ctx.lineTo(250,250);
    	ctx.lineTo(250,250);
    	open=true;
    	      
    img.onload =function(){                                
 	ctx.drawImage(img,320,200,100,100);
    }

    img.src="gg.png";                      // llamar a la imagen de la carpeta
    }


    else{
    	ctx.arc(250,250,60,convertirradianes(0),convertirradianes(360));
    	ctx.lineTo(250,250);
    	open=false;
}

 

      ctx.closePath();
      ctx.fillStyle="yellow";
      ctx.fill();
      ctx.lineWidth=3;
      ctx.strokeStyle="black";
      ctx.stroke();

      ctx.beginPath();
      ctx.fillStyle="black";
      ctx.arc(240,230,10,convertirradianes(0),convertirradianes(360));
      ctx.fill();
      ctx.closePath();
      ctx.restore();
}






 setBackground();                       // llamar a la funcion para ejecutarla
  
    	      
   /* img.onload =function(){                  // mostrar la imagen                 
 	ctx.drawImage(img,10,20,100,100);     // coordenadas primero luego tamaño
 	ctx.drawImage(img,490,20,100,100);
    }

    img.src="gg.png";                      // llamar a la imagen de la carpeta
*/


/*
// Funcion para dibujar un pacman

 ctx.beginPath();
 ctx.arc(250,250,60, convertirradianes(40), convertirradianes(320));     // coordenada, coordena, tamaño
 
 //las dos lineas de la boca

 ctx.lineTo(250,250);
 ctx.closePath();
 ctx.fillStyle= "yellow";
 ctx.fill();
 ctx.lineWidth=3;
 ctx.strokeStyle="black";
 ctx.stroke();

//dibujar el ojo 
 ctx.fillStyle="black";
 ctx.beginPath();
 ctx.arc(240,230,10,convertirradianes(0),convertirradianes(360));
 ctx.closePath();
 ctx.fill();
*/ 


// otro pacman
 /*ctx.beginPath();
 ctx.arc(400,250,60, convertirradianes(210), convertirradianes(150));
 ctx.lineTo(400,250);
 ctx.closePath();
 ctx.fillStyle= "yellow";
 ctx.fill();
 ctx.lineWidth=3;
 ctx.strokeStyle="black";
 ctx.stroke();

 ctx.fillStyle="black";
 ctx.beginPath();
 ctx.arc(400,220,10,convertirradianes(0),convertirradianes(360));
 ctx.closePath();
 ctx.fill();*/

 //setPlayer("red", 10,460,30,30);      //llamar la funcion especifica de crear cuadraditos
 //setPlayer("blue", 460,460,30,30);
 //ctx.fillRect(230,30,40,40);


 /*ctx.beginPath();                                                                    // evitar la linea que une circulos junto con closepath
 ctx.fillStyle="blue";  
 ctx.arc(100,100,30, convertirradianes(0), convertirradianes(360));                    // (x,y,radio, punto partida(en rad), punto llegada)
 ctx.moveTo(230,200);                                                                  // 30 mas por el radio del circulo
 ctx.arc(200,200,30, convertirradianes(0), convertirradianes(360));
 ctx.closePath();
 //ctx.stroke();     // solo contorno
 ctx.fill();     // para llenar los circulos completos  */

/*   Funcion de crear circulos
ctx.beginPath(); 
ctx.fillStyle="blue";
ctx.arc(100,100,40, convertirradianes(0), convertirradianes(360));
ctx.closePath();
ctx.stroke(); 
ctx.fill();

ctx.beginPath(); 
ctx.fillStyle="red";
ctx.arc(200,200,40, convertirradianes(0), convertirradianes(360));
ctx.closePath();
ctx.stroke();*/

 //setPlayer("yellow", 200,200,30,30);    otro cuadrado 

 //ctx.fillStyle="red";            //color cuadrado de abajo izq
 //ctx.fillRect(10,460,30,30);     // posicion del cuadrado izq. primeros num dos punto arriba der, segundo punto de abajo izq
 //ctx.fillStyle="blue";           //color cuadrado de abajo der
 //ctx.fillRect(460,460,30,30);    // posicion del cuadrado der 

})

</script>
</head>
<body>
   <canvas id="canvas" width="600" height="600">< /canvas>  
</body>
</html>